import{u as e,r as l,c as a,d as o,e as s,w as t,i as u,h as n,j as d,x as i,t as r,m as c,n as p,f as v,p as m,q as y,A as f,I as g,C as w,v as h}from"./index-1326579e.js";import{_}from"./uni-nav-bar.e0329405.js";import{_ as k,r as b}from"./uni-app.es.a60443e8.js";import{_ as j}from"./uni-icons.e2da828d.js";import{_ as V}from"./w-loading.4fc13da4.js";import{_ as C}from"./icon-down.7ae91194.js";import{u as P}from"./useForm.fc8de6ee.js";const x=k({__name:"forget",setup(k){const{t:x}=e(),$=()=>{history.go(-1)},U=v(),B=P(),I=l(""),z=l(0),A=a((()=>U.state.areaCode)),F=l({email:"",mobile:"",password:"",jyPassword:""}),T=()=>{m({url:"/pages/states/states"})},q=e=>{F.value[e]=""},D=l(!1),E=l(!1);l(!1);const L=l(!0),M=l(!1),G=()=>{if(0===z.value){if(!A.value)return void(I.value=x("login.t10"));if(!B.verifyPhone(F.value.mobile))return void(I.value=x("login.t13"))}else{if(!F.value.email)return void(I.value=x("login.t11"));if(!B.verifyEmail(F.value.email))return void(I.value=x("login.t12"))}F.value.password&&F.value.jyPassword?F.value.password===F.value.jyPassword?L.value&&(U.commit("setLoginInfo",{...F.value,areaCode:A.value,codeType:z.value}),m({url:"/pages/login/code?codeType=3"})):I.value=x("login.t34"):I.value=x("login.t14")};return(e,l)=>{const a=b(y("uni-nav-bar"),_),v=b(y("uni-icons"),j),m=f,k=u,P=g,x=w,U=h("van-button"),B=b(y("w-loading"),V);return o(),s(k,{class:"ano-page ano-login"},{default:t((()=>[n(a,{class:"ano-statusBar","background-color":"transparent",statusBar:!0,border:!1,height:"0"}),d("div",{class:"login-header"},[n(v,{type:"left",onClick:$})]),n(k,{class:"login-title"},{default:t((()=>[n(m,{class:"t1"},{default:t((()=>[i(r(e.$t("login.t35")),1)])),_:1})])),_:1}),d("div",{class:"login-warn"},r(e.$t("login.t36")),1),n(k,{class:"login-form"},{default:t((()=>[0===z.value?(o(),s(k,{key:0,class:"form-row form-row-phone"},{default:t((()=>[n(k,{class:"input-wrap"},{default:t((()=>[n(k,{class:"phone-code",onClick:T},{default:t((()=>[n(m,{class:"num"},{default:t((()=>[i(r(c(A)?"+"+c(A):"--"),1)])),_:1}),n(v,{class:"icon-down",type:"bottom"})])),_:1}),n(k,{class:"phone-num"},{default:t((()=>[n(P,{class:"uni-input",type:"digit",maxlength:"20",modelValue:F.value.mobile,"onUpdate:modelValue":l[0]||(l[0]=e=>F.value.mobile=e),placeholder:e.$t("login.t4")},null,8,["modelValue","placeholder"]),n(P,{type:"text",style:{width:"0",height:"0",opacity:"0"}}),F.value.mobile.length>0?(o(),s(v,{key:0,type:"close",onClick:l[1]||(l[1]=e=>q("mobile"))})):p("",!0)])),_:1})])),_:1})])),_:1})):p("",!0),1===z.value?(o(),s(k,{key:1,class:"form-row form-row-phone"},{default:t((()=>[n(k,{class:"input-wrap"},{default:t((()=>[n(k,{class:"phone-code",onClick:T},{default:t((()=>[n(m,{class:"num"},{default:t((()=>[i(r(c(A)?"+"+c(A):"--"),1)])),_:1}),n(x,{class:"icon-down",src:C,"lazy-load":""})])),_:1}),n(k,{class:"phone-num"},{default:t((()=>[n(P,{class:"uni-input",modelValue:F.value.email,"onUpdate:modelValue":l[2]||(l[2]=e=>F.value.email=e),maxlength:"30",placeholder:e.$t("login.t5")},null,8,["modelValue","placeholder"]),n(P,{type:"text",style:{width:"0",height:"0",opacity:"0"}}),F.value.email.length>0?(o(),s(v,{key:0,type:"close",onClick:l[3]||(l[3]=e=>q("email"))})):p("",!0)])),_:1})])),_:1})])),_:1})):p("",!0),n(k,{class:"form-row form-row-password"},{default:t((()=>[n(k,{class:"input-wrap"},{default:t((()=>[D.value?(o(),s(P,{key:1,class:"uni-input",modelValue:F.value.password,"onUpdate:modelValue":l[5]||(l[5]=e=>F.value.password=e),maxlength:"42",placeholder:e.$t("login.t391")},null,8,["modelValue","placeholder"])):(o(),s(P,{key:0,password:"",class:"uni-input",maxlength:"42",modelValue:F.value.password,"onUpdate:modelValue":l[4]||(l[4]=e=>F.value.password=e),placeholder:e.$t("login.t391")},null,8,["modelValue","placeholder"])),F.value.password.length>0?(o(),s(v,{key:2,type:"close",onClick:l[6]||(l[6]=e=>q("password"))})):p("",!0),D.value?(o(),s(v,{key:3,type:"eye-slash",onClick:l[7]||(l[7]=e=>D.value=!D.value)})):(o(),s(v,{key:4,type:"eye",onClick:l[8]||(l[8]=e=>D.value=!D.value)}))])),_:1})])),_:1}),n(k,{class:"form-row form-row-password"},{default:t((()=>[n(k,{class:"input-wrap"},{default:t((()=>[E.value?(o(),s(P,{key:1,class:"uni-input",modelValue:F.value.jyPassword,"onUpdate:modelValue":l[10]||(l[10]=e=>F.value.jyPassword=e),maxlength:"42",placeholder:e.$t("login.t40")},null,8,["modelValue","placeholder"])):(o(),s(P,{key:0,password:"",class:"uni-input",maxlength:"42",modelValue:F.value.jyPassword,"onUpdate:modelValue":l[9]||(l[9]=e=>F.value.jyPassword=e),placeholder:e.$t("login.t40")},null,8,["modelValue","placeholder"])),F.value.jyPassword.length>0?(o(),s(v,{key:2,type:"close",onClick:l[11]||(l[11]=e=>q("jyPassword"))})):p("",!0),E.value?(o(),s(v,{key:3,type:"eye-slash",onClick:l[12]||(l[12]=e=>E.value=!E.value)})):(o(),s(v,{key:4,type:"eye",onClick:l[13]||(l[13]=e=>E.value=!E.value)}))])),_:1})])),_:1})])),_:1}),n(k,{class:"login-errorMessage"},{default:t((()=>[I.value?(o(),s(m,{key:0,class:"t1"},{default:t((()=>[i(r(I.value),1)])),_:1})):p("",!0)])),_:1}),0===z.value?(o(),s(k,{key:0,class:"login-handle"},{default:t((()=>[n(U,{class:"login-btn",disabled:!(c(A)&&F.value.mobile&&F.value.password&&F.value.jyPassword),onClick:G},{default:t((()=>[i(r(e.$t("login.t21")),1)])),_:1},8,["disabled"])])),_:1})):p("",!0),1===z.value?(o(),s(k,{key:1,class:"login-handle"},{default:t((()=>[n(U,{class:"login-btn",disabled:!(c(A)&&F.value.email&&F.value.password&&F.value.jyPassword),onClick:G},{default:t((()=>[i(r(e.$t("login.t21")),1)])),_:1},8,["disabled"])])),_:1})):p("",!0),n(B,{show:M.value},null,8,["show"])])),_:1})}}},[["__scopeId","data-v-6ced535f"]]);export{x as default};
