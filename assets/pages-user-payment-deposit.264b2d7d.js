import{u as s,r as a,c as e,p as l,d as i,e as t,w as o,i as u,j as n,x as d,t as c,k as r,l as v,F as p,h as m,f as _,G as b,q as f,v as y,E as g,m as h}from"./index-1326579e.js";import{_ as k}from"./uni-easyinput.bcff0311.js";import{_ as w,e as j,r as C}from"./uni-app.es.a60443e8.js";import{_ as $}from"./w-loading.4fc13da4.js";import{E as I}from"./user.2b7a6c52.js";import"./uni-icons.e2da828d.js";const x=w({__name:"deposit",setup(w){const{t:x}=s(),V=_(),B=a(!1),E=e((()=>V.state.userinfo));a([]),j((s=>{l({url:"/pages/user/assets/assets?type=1"})}));const R=a(""),S=a(200),U=s=>{R.value=""},q=[{label:"200",value:200},{label:"300",value:300},{label:"500",value:500},{label:"1000",value:1e3},{label:"2000",value:2e3},{label:"5000",value:5e3},{label:"8000",value:8e3},{label:"10000",value:1e4},{label:"20000",value:2e4}],A=()=>{B.value=!0,I({amount:S.value||R.value,type:0,userId:E.value.userId}).then((s=>{200===s.data.code?l({url:"/pages/invite/web?url="+encodeURIComponent(s.data.result)}):b({title:s.data.message,icon:"none",duration:2e3})})).catch((s=>{b({title:x("message.t1"),icon:"none",duration:2e3})})).finally((()=>{B.value=!1}))};return(s,a)=>{const e=C(f("uni-easyinput"),k),_=y("van-button"),b=C(f("w-loading"),$),w=u;return i(),t(w,{class:"ano-page ano-disposit"},{default:o((()=>[n("div",{class:"disposit-section disposit-list"},[n("div",{class:"disposit-section__title"},[d(c(s.$t("user.t91"))+" ",1),n("div",{class:"disposit-section__link",onClick:a[0]||(a[0]=s=>{l({url:"/pages/user/assets/assets?type=1"})})},c(s.$t("comm.t23")),1)]),n("div",{class:"disposit-list__wrap"},[(i(),r(p,null,v(q,((a,e)=>{var l;return n("div",{class:"disposit-item",key:a.value,name:10*(e+1),"aria-checked":R.value==a.value,onClick:s=>{return e=a.value,R.value=e,void(S.value=e);var e}},[n("div",{class:g(["disposit-item__wrap",{"icon-radio2":R.value==a.value}])},[n("div",{class:"disposit-item__icon"}),n("div",{class:"disposit-item__t1"},c(a.value*(1-((null==(l=h(E))?void 0:l.rechargeRate)||1))),1),n("div",{class:"disposit-item__t2"},c(s.$t("currencySymbol"))+c(a.value),1)],2)],8,["name","aria-checked","onClick"])})),64))])]),n("div",{class:"disposit-section disposit-balance"},[n("div",{class:"disposit-section__title"},c(s.$t("user.t92")),1),n("div",{class:"disposit-balance__amount"},[n("div",{class:"disposit-balance__symbol"},c(s.$t("currencySymbol")),1),m(e,{class:"disposit-balance__field",modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=s=>S.value=s),type:"number",name:"bank",placeholder:"0.00",inputBorder:!1,maxlength:"20",onInput:U,clearable:""},null,8,["modelValue"])])]),m(_,{class:"disposit-confirm",color:"#1f1f1f",disabled:!R.value&&!S.value,onClick:A},{default:o((()=>[d(c(s.$t("user.t93")),1)])),_:1},8,["disabled"]),m(b,{show:B.value},null,8,["show"])])),_:1})}}},[["__scopeId","data-v-9492d152"]]);export{x as default};
